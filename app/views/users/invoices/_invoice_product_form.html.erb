<tr class="border-200 nested-form-wrapper" data-new-record="<%= f.object.new_record? %>">
  <td class="align-middle">
    <%= f.select :product_id, Product.available_stocks.map {|product| [product.name, product.id, 'data-price': product.selling_price]}, { include_blank: true }, { class: 'form-select', data: { action: "change->invoice-nested-form#change", "invoice-nested-form-target": "selectProduct" } } %>
  </td>
  <td class="align-middle text-center"><%= f.number_field :quantity, class: 'form-control', data: { action: "change->invoice-nested-form#change", "invoice-nested-form-target": "productQuantity" } %></td>
  <td class="align-middle text-center"><%= f.number_field :price, class: 'form-control', data: { action: "change->invoice-nested-form#change", "invoice-nested-form-target": "productPrice" } %></td>
  <td class="align-middle text-center"><%= f.number_field :final_price, class: 'form-control', data: { action: "change->invoice-nested-form#change", "invoice-nested-form-target": "productFinalPrice" } %></td>
  <td class="align-middle text-end">
    <button type="button" data-action="nested-form#invoiceRemove" class="btn btn-danger"><i class="fa-solid fa-trash"></i></button>
    <%= f.hidden_field :_destroy, data: { "invoice-nested-form-target": "productDestroy" } %>
  </td>
</tr>
